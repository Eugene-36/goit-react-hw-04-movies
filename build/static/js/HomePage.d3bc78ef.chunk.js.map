{"version":3,"sources":["img/withoutImg.jpg","services/apiFilms.js","components/MoviePreview/MoviePreview.module.css","components/MovieList/MovieList.module.css","components/MoviePreview/MoviePreview.js","components/MovieList/MovieList.js","pages/HomePage/HomePage.module.css","pages/HomePage/HomePage.js"],"names":["baseUrl","apiKey","api","getRating","path","axios","get","then","response","data","length","Promise","reject","catch","error","getDetails","id","getCast","getReviews","module","exports","MoviePreview","backdrop_path","title","poster","image","className","s","MoviePreview_item","tumb","picture","src","alt","width","height","container","text","MovieList","movie","location","console","log","wrapper","flex","map","noStyle","to","pathname","state","from","HomePage","popularMovie","fetchMovie","API","onlyFilms","results","filter","el","media_type","setState","this","head","props","Component"],"mappings":"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","file":"static/js/HomePage.d3bc78ef.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/withoutImg.b2592c11.jpg\";","import axios from \"axios\";\n\nconst baseUrl = \"https://api.themoviedb.org/3/\";\nconst apiKey = \"da01c4e54a8d5b285bda18b1e0590cea\";\n\nconst getRating = () => {\n  const path = `${baseUrl}trending/all/day?api_key=${apiKey}`;\n  return axios\n    .get(path)\n    .then((response) => {\n      if (response.data.length === 0) {\n        Promise.reject(\"Error\");\n      }\n      return response.data;\n    })\n    .catch((error) => ({ error }));\n};\n\nconst getDetails = (id) => {\n  const path = `${baseUrl}movie/${id}?api_key=${apiKey}&language=en-US`;\n  return axios\n    .get(path)\n    .then((response) => {\n      if (response.data.length === 0) {\n        Promise.reject(\"Error\");\n      }\n      return response.data;\n    })\n    .catch((error) => ({ error }));\n};\n\nconst getCast = (id) => {\n  const path = `${baseUrl}movie/${id}/credits?api_key=${apiKey}&language=en-US`;\n  return axios\n    .get(path)\n    .then((response) => {\n      if (response.data.length === 0) {\n        Promise.reject(\"Error\");\n      }\n      return response.data;\n    })\n    .catch((error) => ({ error }));\n};\n\nconst getReviews = (id) => {\n  const path = `${baseUrl}movie/${id}/reviews?api_key=${apiKey}&language=en-US&page=1`;\n  return axios\n    .get(path)\n    .then((response) => {\n      if (response.data.length === 0) {\n        Promise.reject(\"Error\");\n      }\n      return response.data;\n    })\n    .catch((error) => ({ error }));\n};\n\nconst api = { getRating, getDetails, getCast, getReviews };\nexport default api;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture\":\"MoviePreview_picture__2MW_Z\",\"container\":\"MoviePreview_container__3sTq8\",\"text\":\"MoviePreview_text__2P4Ly\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noStyle\":\"MovieList_noStyle__1GESe\",\"flex\":\"MovieList_flex__dDd4_\"};","import React from \"react\";\r\n//import PropTypes from \"prop-types\";\r\nimport image from \"../../img/withoutImg.jpg\";\r\nimport s from \"./MoviePreview.module.css\";\r\n\r\nconst MoviePreview = ({ backdrop_path, title }) => {\r\n  const posterUrl = \"https://image.tmdb.org/t/p/original\";\r\n  let poster = backdrop_path ? `${posterUrl}${backdrop_path}` : image;\r\n  return (\r\n    <div className={s.MoviePreview_item}>\r\n      <div className={s.tumb}>\r\n        <img\r\n          className={s.picture}\r\n          src={poster}\r\n          alt={title}\r\n          width=\"300\"\r\n          height=\"auto\"\r\n        />\r\n      </div>\r\n      <div className={s.container}>\r\n        <h2 className={s.text}> {title}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default MoviePreview;\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport MoviePreview from \"../MoviePreview/MoviePreview\";\r\nimport s from \"../MovieList/MovieList.module.css\";\r\nconst MovieList = ({ movie, location }) => {\r\n  console.log(movie);\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <ul className={s.flex}>\r\n        {movie.map(({ backdrop_path, id, title }) => (\r\n          <li key={id} className={s.noStyle}>\r\n            <Link\r\n              className={s.noStyle}\r\n              // className={s.newStyle}\r\n              to={{\r\n                pathname: `/movies/${id}`,\r\n                state: { from: location },\r\n              }}\r\n            >\r\n              <MoviePreview title={title} backdrop_path={backdrop_path} />\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\nexport default MovieList;\r\n\r\n// {\r\n//   movies.length > 0 ? (\r\n//     <>\r\n//       <MovieList movie={movies} {...this.props} />\r\n//       {page <= total && <Button onClick={this.handleBtn} />}\r\n//     </>\r\n//   ) : (\r\n//     <h2>Введите запрос</h2>\r\n//   );\r\n// }\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"HomePage_head__3AGuJ\"};","import React, { Component } from \"react\";\r\n\r\nimport API from \"../../services/apiFilms\";\r\nimport MovieList from \"../../components/MovieList/MovieList\";\r\nimport s from \"../HomePage/HomePage.module.css\";\r\nclass HomePage extends Component {\r\n  state = {\r\n    popularMovie: [],\r\n    error: \"Somthing went wrong....\",\r\n  };\r\n  fetchMovie = () => {\r\n    API.getRating().then((data) => {\r\n      let onlyFilms = data.results.filter((el) => el.media_type === \"movie\");\r\n      this.setState({ popularMovie: onlyFilms });\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    // this.setState({ page: 1 });\r\n    this.fetchMovie();\r\n  }\r\n\r\n  render() {\r\n    const { popularMovie } = this.state;\r\n    //console.log(this.props.match);\r\n\r\n    return (\r\n      <div>\r\n        <>\r\n          <h1 className={s.head}>Trending today</h1>\r\n\r\n          <MovieList movie={popularMovie} {...this.props} />\r\n\r\n          {/* <Button onClick={this.fetchMovie} /> */}\r\n        </>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default HomePage;\r\n"],"sourceRoot":""}